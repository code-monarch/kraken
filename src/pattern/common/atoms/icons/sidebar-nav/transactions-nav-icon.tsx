"use client";
import { useEffect, useState } from "react";
import { usePathname } from "next/navigation";
import { DASHBOARD_PATHS } from "@/lib/routes";
import { IIconProps } from "@/pattern/types";
import { NAV_ICON_ACTIVE, NAV_ICON_INACTIVE } from "@/lib/constants";
import Hidden from "@/pattern/common/molecules/data-display/hidden";

export const TransactionsNavIcon = ({ ...props }: IIconProps) => {
  const [color, setColor] = useState<string>(`${NAV_ICON_INACTIVE}`);
  const [isActive, setIsActive] = useState<boolean>(false);
  const pathname = usePathname();

  useEffect(() => {
    if (pathname.startsWith(`${DASHBOARD_PATHS.transactions}`)) {
      setIsActive(true);
      setColor(`${NAV_ICON_ACTIVE}`);
    } else {
      setIsActive(false);
      setColor(`${NAV_ICON_INACTIVE}`);
    }
  }, [pathname]);

  return (
    <>
      <Hidden visible={!isActive}>
        <svg
          width='20'
          height='20'
          viewBox='0 0 20 20'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
          {...props}
        >
          <path
            d='M10.0001 18.9582C5.05841 18.9582 1.04175 14.9415 1.04175 9.99984C1.04175 8.03317 1.66675 6.1665 2.85008 4.59984C3.05841 4.32484 3.45008 4.27484 3.72508 4.48317C4.00008 4.6915 4.05841 5.08317 3.85008 5.35817C2.83341 6.69984 2.29175 8.30817 2.29175 9.99984C2.29175 14.2498 5.75008 17.7082 10.0001 17.7082C14.2501 17.7082 17.7084 14.2498 17.7084 9.99984C17.7084 5.74984 14.2501 2.2915 10.0001 2.2915C9.65841 2.2915 9.37508 2.00817 9.37508 1.6665C9.37508 1.32484 9.65841 1.0415 10.0001 1.0415C14.9417 1.0415 18.9584 5.05817 18.9584 9.99984C18.9584 14.9415 14.9417 18.9582 10.0001 18.9582Z'
            fill={color}
          />
          <path
            d='M10.0001 16.4582C6.44175 16.4582 3.54175 13.5582 3.54175 9.99984C3.54175 9.65817 3.82508 9.37484 4.16675 9.37484C4.50841 9.37484 4.79175 9.65817 4.79175 9.99984C4.79175 12.8748 7.12508 15.2082 10.0001 15.2082C12.8751 15.2082 15.2084 12.8748 15.2084 9.99984C15.2084 7.12484 12.8751 4.7915 10.0001 4.7915C9.65841 4.7915 9.37508 4.50817 9.37508 4.1665C9.37508 3.82484 9.65841 3.5415 10.0001 3.5415C13.5584 3.5415 16.4584 6.4415 16.4584 9.99984C16.4584 13.5582 13.5584 16.4582 10.0001 16.4582Z'
            fill={color}
          />
          <path
            d='M10 13.9582C9.65833 13.9582 9.375 13.6748 9.375 13.3332C9.375 12.9915 9.65833 12.7082 10 12.7082C11.4917 12.7082 12.7083 11.4915 12.7083 9.99984C12.7083 8.50817 11.4917 7.2915 10 7.2915C9.65833 7.2915 9.375 7.00817 9.375 6.6665C9.375 6.32484 9.65833 6.0415 10 6.0415C12.1833 6.0415 13.9583 7.8165 13.9583 9.99984C13.9583 12.1832 12.1833 13.9582 10 13.9582Z'
            fill={color}
          />
        </svg>
      </Hidden>

      <Hidden visible={isActive}>
        <svg
          width='20'
          height='20'
          viewBox='0 0 20 20'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
          {...props}
        >
          <path
            d='M10.0003 1.6665C5.40033 1.6665 1.66699 5.39984 1.66699 9.99984C1.66699 14.5998 5.40033 18.3332 10.0003 18.3332C14.6003 18.3332 18.3337 14.5998 18.3337 9.99984C18.3337 5.39984 14.6003 1.6665 10.0003 1.6665ZM10.0003 7.2915C9.65866 7.2915 9.37533 7.00817 9.37533 6.6665C9.37533 6.32484 9.65866 6.0415 10.0003 6.0415C12.1837 6.0415 13.9587 7.8165 13.9587 9.99984C13.9587 12.1832 12.1837 13.9582 10.0003 13.9582C9.65866 13.9582 9.37533 13.6748 9.37533 13.3332C9.37533 12.9915 9.65866 12.7082 10.0003 12.7082C11.492 12.7082 12.7087 11.4915 12.7087 9.99984C12.7087 8.50817 11.492 7.2915 10.0003 7.2915ZM10.0003 16.4582C6.44199 16.4582 3.54199 13.5582 3.54199 9.99984C3.54199 9.65817 3.82533 9.37484 4.16699 9.37484C4.50866 9.37484 4.79199 9.65817 4.79199 9.99984C4.79199 12.8748 7.12533 15.2082 10.0003 15.2082C12.8753 15.2082 15.2087 12.8748 15.2087 9.99984C15.2087 7.12484 12.8753 4.7915 10.0003 4.7915C9.65866 4.7915 9.37533 4.50817 9.37533 4.1665C9.37533 3.82484 9.65866 3.5415 10.0003 3.5415C13.5587 3.5415 16.4587 6.4415 16.4587 9.99984C16.4587 13.5582 13.5587 16.4582 10.0003 16.4582Z'
            fill={color}
          />
        </svg>
      </Hidden>
    </>
  );
};


